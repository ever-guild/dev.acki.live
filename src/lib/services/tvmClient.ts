import { TvmClient } from "@tvmsdk/core";
import indexerAbi from '/src/data/contracts/mvsystem/Indexer.abi.json?raw';

export const indexerCode = 'te6ccgECIwEABTUABCSK7VMg4wMgwP/jAiDA/uMC8gseAwEiArSNCGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAT4aSHbPNMAAY4igwjXGCD4KMjOzsn5AAHTAAGU0/9QM5MC+ELiIPhl+RDyqJXTAAHyeuLTPwEcAgFO+EMhufK0IPgjgQPoqIIIG3dAoLnytPhj0x8B+CO88rnTHwHbPPI8BANa7UTQgQFA1yHXCgD4ZiLQ0wP6QDD4aak4ANwhxwDjAiHXDR/yvCHjAwHbPPI8HR0EBFAgghAxmusDu+MCIIIQQ/WwObvjAiCCEEqi0HG64wIgghBqk6xjuuMCEQkHBQN+MPhG8uBM+EJu4wAhk9TR0N76QNTU0//U0z/U0dDU1NM/0wfU1NHQ1NTT/9TT/9TR0NT0BNP/+kDR2zzbPPIAHAYYAfD4RSBukjBw3vhNuvLhkvgA2zyAE2H4a4ASYoAScGR/+EqAFGHIz4WIzo0EkBfXhAAAAAAAAAAAAAAAAAAADM8WgBRiyM+QCdUYYszKAMzMy/9V4MjMyz/MzMs/ywdVgMjMzMzL/1VAyMzL/8z0AMv/zc3Nzclx+wANAzQw+Eby4Ez4Qm7jACGT1NHQ3vpA0ds82zzyABwIGAAa+En4S8cF8uGX+AD4awIoIIIQP9hWVbrjAiCCEEP1sDm64wIOCgN+MPhG8uBM+EJu4wAhk9TR0N76QNTU0//U0z/U0dDU1NM/0wfU1NHQ1NTT/9TT/9TR0NT0BNP/03/R2zzjAPIAHAsTAvT4ACDC//LhmiCBA+i58uGagvAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaDIz4oAQMv/ydD4SccF8uGX2zz4S4ATYccFgBJigBJwZIASYfhK+EnIz4WIzo0EkBfXhAAAAAAAAAAAAAAAAAAADM8WgBRiyA0MAGjPkAnVGGLMygDMzMv/VeDIzMs/zMzLP8sHVYDIzMzMy/9VQMjMy//M9ADL/83Nzc3JcfsAACz4J28QghgXSHboALzcghgXSHboAMcoAmIw+Eby4EzR2zwijh4k0NMB+kAwMcjPhyDOgGLPQBLPkv9hWVbMzMlw+wCRW+LjAPIADxMCBIiIIBAADkluZGV4ZXIDMiDAAeMCIIIQH2q/6rrjAiCCEDGa6wO64wIXFRIDcDD4RvLgTPhCbuMA0ds8Io4gJNDTAfpAMDHIz4cgznHPC2ECyM+SxmusDszOzclw+wCRW+LjAPIAHBQTACjtRNDT/9M/MfhDWMjL/8s/zsntVAAI+Er4SwMkMPhG8uBM+EJu4wDR2zzbPPIAHBYYADj4SfgoxwXy4Zf4APgoyM+FCM6Ac89AyYEAoPsABPgw+EJu4wD4RvJzIZPU0dDe+kDT/9N/1NHQ+kDR+AD4Kts8IG7yf9DU0Yj5AAH5ALry4Zf4bFj4awH4bYLwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGgyM+KAEDL/8nQ+En4TMcFmPhJIccF8uGX3zDbPPIAHBkgGAA8+E34TPhL+Er4Q/hCyMv/yz/Pg8zOWcjOy//Nye1UAhjQIIs4rbNYxwWKiuIaGwEK103Q2zwbAEjXTNCLL0pA1yb0BDHTCTGLX0vfLATo1yYg10rCAZLXTZIwbeIARO1E0NP/0z/TANT6QNTR0PpA0//R+G34bPhr+Gr4Zvhj+GIACvhG8uBMAxD0pCD0vfLATiIhHwEAIAAKMS4wLjAAFHNvbCAwLjc5LjMAAA==';
export const popitGameCode = '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';

const tvmClient = new TvmClient();

export default tvmClient;


export async function getIndexerAddressByName(name: string): Promise<string> {
  const encodedMessage = await tvmClient.abi.encode_message({
    abi: {
      type: 'Json',
      value: indexerAbi
    },
    deploy_set: {
      code: indexerCode,
      initial_data: {
        _pubkey: '0x0',
        _name: name
      }
    },
    signer: {
      type: 'None',
    }
  });

  return encodedMessage.address;

}
